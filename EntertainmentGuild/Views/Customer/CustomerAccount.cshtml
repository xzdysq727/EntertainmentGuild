@model Microsoft.AspNetCore.Identity.IdentityUser

@{
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
    ViewData["Title"] = "My Account";
}

<div class="container mt-4">
    <h2>My Account</h2>
    <hr />

    @if (TempData["AddressSaved"] != null)
    {
        <div class="alert alert-success">@TempData["AddressSaved"]</div>
    }
    @if (TempData["CardSaved"] != null)
    {
        <div class="alert alert-success">@TempData["CardSaved"]</div>
    }

    <div class="mb-4">
        <p><strong>Email:</strong> @Model.Email</p>
        <p><strong>User Name:</strong> @Model.UserName</p>
    </div>

    <!-- 地址部分 -->
    <div class="mb-5">
        <h5>Shipping Address</h5>
        <form method="post" asp-action="AddAddress">
            <div class="mb-3">
                <label class="form-label">Address</label>
                <input type="text" class="form-control" name="Address" required />
            </div>
            <div class="mb-3">
                <label class="form-label">City</label>
                <input type="text" class="form-control" name="City" required />
            </div>
            <div class="mb-3">
                <label class="form-label">State</label>
                <input type="text" class="form-control" name="State" required />
            </div>
            <div class="mb-3">
                <label class="form-label">Postal Code</label>
                <input type="text" class="form-control" name="PostalCode" required />
            </div>
            <button type="submit" class="btn btn-primary">Save Address</button>
            <a asp-action="ViewAddress" class="btn btn-secondary mt-3">View Saved Address</a>
        </form>
    </div>

    <!-- 银行卡部分 -->
    <div class="mb-5">
        <h5>Add Bank Card</h5>
        <form method="post" asp-action="AddCard">
            <div class="mb-3">
                <label class="form-label">Card Number</label>
                <input type="text" class="form-control" name="CardNumber" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Expiration Month</label>
                <input type="text" class="form-control" name="ExpiryMonth" placeholder="MM" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Expiration Year</label>
                <input type="text" class="form-control" name="ExpiryYear" placeholder="YY" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Card Type</label>
                <input type="text" class="form-control" name="CardType" required />
            </div>

            <div class="mb-3">
                <label class="form-label">Name on Card</label>
                <input type="text" class="form-control" name="CardHolder" required />
            </div>

            <button type="submit" class="btn btn-primary">Save Card</button>
            <a class="btn btn-secondary" asp-action="ViewCards">View Saved Cards</a>
        </form>
    </div>


    <div>
        <h5>Security</h5>
        <a class="btn btn-outline-secondary" asp-action="ChangePassword">Change Password</a>
    </div>
</div>
