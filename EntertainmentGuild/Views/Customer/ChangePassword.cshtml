@model EntertainmentGuild.Models.ChangePasswordViewModel

@{
    // Specify the layout file and set the page title
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
    ViewData["Title"] = "Change Password";
}

<div class="container mt-5">
    <div class="mx-auto shadow-sm p-4 rounded" style="max-width: 500px; background-color: #fdf7e4;">
        <h3 class="text-center mb-4" style="color: #2e2e2e;">
            <!-- Icon for visual context and page title -->
            <i class="bi bi-shield-lock-fill me-2" style="color: #b29b4b;"></i>Change Password
        </h3>

        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success d-flex align-items-center" role="alert">
                <i class="bi bi-check-circle-fill me-2"></i>
                <!-- Display success message if present in TempData -->
                <div>@TempData["SuccessMessage"]</div>
            </div>
        }

        <!-- Change password form -->
        <form asp-action="ChangePassword" method="post">
            <div class="mb-3">
                <!-- Label and password input for current password -->
                <label asp-for="CurrentPassword" class="form-label fw-semibold"></label>
                <input asp-for="CurrentPassword" class="form-control rounded-3 shadow-sm" type="password" />
                <!-- Validation message placeholder -->
                <span asp-validation-for="CurrentPassword" class="text-danger small"></span>
            </div>

            <div class="mb-3">
                <!-- Label and password input for new password -->
                <label asp-for="NewPassword" class="form-label fw-semibold"></label>
                <input asp-for="NewPassword" class="form-control rounded-3 shadow-sm" type="password" />
                <span asp-validation-for="NewPassword" class="text-danger small"></span>
            </div>

            <div class="mb-3">
                <!-- Label and password input for confirming new password -->
                <label asp-for="ConfirmPassword" class="form-label fw-semibold"></label>
                <input asp-for="ConfirmPassword" class="form-control rounded-3 shadow-sm" type="password" />
                <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
            </div>

            <!-- Submit button styled with custom gold color -->
            <button type="submit"
                    class="btn text-white w-100"
                    style="background-color: #b29b4b; border: none;">
                🔒 Update Password
            </button>

            <!-- Cancel button links back to Account page -->
            <a asp-action="Account"
               class="btn btn-outline-secondary mt-3 w-100 rounded-3">
                Cancel
            </a>
        </form>
    </div>
</div>

<footer class="mt-5 pt-4 pb-3 bg-light text-dark border-top shadow-sm">
    <div class="container">
        <div class="row">
            <div class="col-md-4 mb-3">
                <h5 class="fw-bold" style="color:#b29b4b;">e-Closet</h5>
                <p class="text-muted small">
                    <!-- Site description text -->
                    Your curated fashion corner.
                    Blending style & soul with a touch of music.
                </p>
            </div>

            <div class="col-md-4 mb-3">
                <h6 class="fw-bold">Quick Links</h6>
                <ul class="list-unstyled small">
                    <li><a href="/Customer/Index" class="text-decoration-none text-dark">Home</a></li>
                    <li><a href="/Customer/Product" class="text-decoration-none text-dark">Products</a></li>
                    <li><a href="/Customer/Cart" class="text-decoration-none text-dark">Cart</a></li>
                    <li><a href="/Customer/Account" class="text-decoration-none text-dark">My Account</a></li>
                </ul>
            </div>

            <div class="col-md-4 mb-3">
                <h6 class="fw-bold">Contact</h6>
                <p class="small mb-1"><i class="bi bi-envelope me-1"></i> support@ecloset.com</p>
                <p class="small">
                    <i class="bi bi-music-note-beamed me-1"></i> Follow us on
                    <a href="#" class="text-decoration-none text-dark">Instagram</a>
                </p>
            </div>
        </div>

        <div class="text-center mt-4 border-top pt-3 small text-muted">
            <!-- Copyright text with current year -->
            © @DateTime.Now.Year e-Closet. All rights reserved.
        </div>
    </div>
</footer>

@section Scripts {
    <!-- Include client-side validation scripts -->
    <partial name="_ValidationScriptsPartial" />
}
