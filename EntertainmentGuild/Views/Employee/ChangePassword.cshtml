@model ChangePasswordViewModel
@{
    Layout = "~/Views/Shared/_EmployeeLayout.cshtml";
    ViewData["Title"] = "Change Password";
    var email = User.Identity?.Name;
}

<style>
    body {
        background-color: #ffffff; 
    }

    .card-custom {
        background-color: #fcf6dc; 
        border-radius: 16px;
        border: 1px solid #e3ddc6;
        padding: 40px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
    }

    .btn-gold {
        background-color: #b29b4b;
        color: #fff;
        font-weight: 500;
        border: none;
        border-radius: 50px;
        transition: background-color 0.3s ease;
    }

        .btn-gold:hover {
            background-color: #a08a3d;
        }

    .form-label {
        font-weight: 600;
        color: #333;
        margin-bottom: 6px;
    }

    .form-control {
        border-radius: 10px;
        font-size: 1rem;
    }

    .text-danger {
        font-size: 0.875rem;
    }

    .alert-success {
        background-color: #f3ead1;
        border-color: #e2d3a8;
        color: #4e4317;
        border-radius: 10px;
        padding: 12px 16px;
        margin-bottom: 20px;
    }
</style>

<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <!-- Custom card container for the form -->
            <div class="card-custom">
                <!-- Page header with icon and title -->
                <h4 class="text-center fw-bold mb-4 text-dark">
                    <i class="bi bi-key-fill me-2 text-warning"></i>@ViewData["Title"]
                </h4>

                <!-- Display current user's email -->
                <p class="text-center mb-4">
                    <i class="bi bi-envelope-fill text-secondary me-1"></i>
                    <strong>Email:</strong> @email
                </p>

                <!-- Success message after password change -->
                @if (TempData["SuccessMessage"] != null)
                {
                    <div class="alert alert-success text-center">@TempData["SuccessMessage"]</div>
                }

                <!-- Password change form -->
                <form asp-action="ChangePassword" method="post">
                    <!-- Current password input -->
                    <div class="mb-3">
                        <label asp-for="CurrentPassword" class="form-label">Current Password</label>
                        <input asp-for="CurrentPassword" class="form-control" type="password" />
                        <span asp-validation-for="CurrentPassword" class="text-danger"></span>
                    </div>

                    <!-- New password input -->
                    <div class="mb-3">
                        <label asp-for="NewPassword" class="form-label">New Password</label>
                        <input asp-for="NewPassword" class="form-control" type="password" />
                        <span asp-validation-for="NewPassword" class="text-danger"></span>
                    </div>

                    <!-- Confirm new password input -->
                    <div class="mb-4">
                        <label asp-for="ConfirmPassword" class="form-label">Confirm Password</label>
                        <input asp-for="ConfirmPassword" class="form-control" type="password" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>

                    <!-- Submit button -->
                    <div class="d-grid">
                        <button type="submit" class="btn btn-gold btn-lg">Change Password</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- Include client-side validation scripts -->
    <partial name="_ValidationScriptsPartial" />
}